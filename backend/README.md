# Backend 

## API 명세서

[API Document](./api-document.md) 참고

## 기술 스택 및 아키텍쳐

### Django REST Framework (DRF)

빠르고 표준화된 API 개발을 위해 Django REST Framework (DRF) 기반으로 코드를 작성했습니다. DRF는 직관적인 API 설계를 지원하며, 다양한 인증/권한 시스템과 Serializer를 통한 데이터 검증 및 변환이 용이하여 효율적인 RESTful API 구축에 최적화되어 있습니다.

### PostgreSQL

Django의 기본 RDBMS인 SQLite는 대규모 트랜잭션 처리에서 성능 제한이 있어, 확장성을 고려하여 대용량 데이터 처리 시 안정성이 뛰어난 PostgreSQL을 선택했습니다. 특히, PostgreSQL의 확장 기능인 `pgvector`를 활용하여 임베딩 벡터들을 함께 저장했습니다.

### 커스텀 User 모델

Django의 기본 User 모델은 `username` 기반이지만, 소셜 로그인이 함께 존재하는 환경에서 이메일을 고유 식별자로 사용하고 생년월일과 같은 추가 사용자 정보를 수집하기 위해 커스텀 User 모델을 설계했습니다. `BaseUserManager`를 상속받아 유저 생성 메서드를 직접 구현하고 `username` 필드를 제거했습니다. 또한, `django-allauth`와의 연동을 위해 `allauth.account.adapter.DefaultAccountAdapter`를 상속받아 이메일 기반 회원가입 및 사용자 데이터 저장 방식을 프로젝트의 요구사항에 맞게 커스터마이징하는 어댑터를 별도로 구현했습니다.

### JWT 기반 인증

JWT (JSON Web Token) 기반 인증은 서버가 세션 상태를 관리할 필요가 없어 확장성과 분산 환경에 유리합니다. 액세스 토큰과 리프레시 토큰 구조로 보안과 편의성을 모두 확보하며, 모바일 및 웹 등 다양한 클라이언트에서 일관된 인증 방식을 적용할 수 있습니다. 이는 RESTful API와 SPA(Single Page Application) 환경에서 세션 기반 인증보다 JWT가 더 적합하다고 판단한 이유입니다.

JWT 방식은 토큰 탈취 시 보안에 취약할 수 있다는 단점이 있습니다. 이를 보완하기 위해 액세스 토큰의 유효 기간을 짧게 설정하고, 리프레시 토큰을 이용한 재발급 방식을 도입했습니다. 향후에는 토큰 재발급 시 기기 정보 확인 등 추가적인 보안 검증 절차를 도입하여 보안을 더욱 강화할 계획입니다.

### Elasticsearch

분산형 검색 엔진인 Elasticsearch는 대용량 데이터를 빠르게 색인하고 검색하는 데 특화되어 있습니다. 본 프로젝트에서는 기사 검색, 자동 완성, 추천 등 다양한 기능에 Elasticsearch를 활용했습니다. Elasticsearch의 유연한 검색 쿼리, 실시간에 가까운 색인 및 검색 성능, 그리고 풍부한 전문 검색(Full-text Search) 기능을 통해 사용자에게 빠르고 정확한 검색 경험을 제공합니다. 또한, 분산 아키텍처를 통해 데이터 증가에 따른 확장이 용이합니다.

### 추천 시스템

사용자와 상호작용하며 개인화된 기사를 제공하고, 특정 기사 조회 시 연관 기사를 추천하는 추천 시스템을 도입했습니다. 벡터 공간에서의 연관성 정의에 있어 유클리드 거리보다 의미론적 유사성을 잘 포착하는 코사인 유사도를 기반으로 시스템을 구축했습니다.

- 연관 기사 추천: 기사 본문의 임베딩 벡터를 기반으로 가장 높은 코사인 유사도를 보이는 상위 5개 기사를 제공합니다.
- 맞춤 기사 추천: 사용자의 과거 이용 기록(조회, 좋아요, 스크랩)을 바탕으로 시간에 따라 가중치를 부여하여 산정된 임베딩 벡터와 가장 높은 코사인 유사도를 보이는 상위 5개 기사를 제공합니다.

향후 이용자가 늘어날 경우, 협업 필터링(Collaborative Filtering) 기반의 추천 시스템을 추가하여 추천의 정확도와 다양성을 높일 계획입니다.

### 챗봇

사용자 질의에 적합한 답변을 생성해주는 LLM을 연동한 챗봇 시스템을 구축했습니다. 데이터 파이프라인 구축 시 카테고리 분류, 내용 요약, 임베딩에도 AI가 사용되므로 비용 절감을 위해 오픈소스 LLM을 사용했습니다. 2025년 5월 기준 한국어 기반 오픈소스 LLM 중 최고 성능을 보이는 Exaone 3.5 모델을 활용하여 인간 친화적인 생성형 답변을 제공하고 있습니다. 또한, 환각(Hallucination) 방지를 위해 제공된 기사를 기반으로 답변을 생성하는 Closed-domain QA 시스템을 구축했습니다. 향후 기사와 관련된 더 많은 정보를 제공할 수 있도록 더 큰 규모의 RAG(Retrieval-Augmented Generation)를 구축하여 사용자 경험을 고도화할 수 있습니다.

---

> 참고:  
> 설치 및 환경 설정, 마이그레이션 등은 [상위 README 파일](../README.md)을 참고하세요.